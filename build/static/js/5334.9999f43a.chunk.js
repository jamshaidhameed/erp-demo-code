"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[5334],{5334:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(9439),r=t(2791),o=t(5145),s=t(3782),c=t(7846),d=t(6106),a=t(914),l=t(7145),u=t(6765),p=t(9434),h=t(9655),m=t(5233),f=t(1067),x=t(1736),b=t(5806),v=t(7951),S=t(1483),j=t(5421),A=t(3329),Z=function(e){var n=e.open,t=e.onCancel,o=e.selected,s=e.submitRecord,Z=e.invalidateList,y=(0,p.I0)(),g=c.Z.useForm(),D=(0,i.Z)(g,1)[0],E=function(){(0,m.OO)(null===o||void 0===o?void 0:o.id).then((function(e){var n;y((0,S.S)(!1)),n=e.data,D.setFields([{name:"description",value:n.description},{name:"shortDescription",value:n.shortDescription},{name:"minServiceMonth",value:n.minServiceMonth},{name:"post",value:n.post}])})).catch((function(e){y((0,S.S)(!1)),h.Am.error((0,j.nU)(e)),Z(),t()}))};return(0,r.useEffect)((function(){n&&(D.resetFields(),o&&E())}),[n,o]),(0,A.jsx)(f.Z,{title:o?"Edit Addition Type":"Add Addition Type",width:700,open:n,onCancel:t,onOk:function(){D.validateFields().then((function(e){e.post=!0===e.post||1==e.post?"1":"0",o&&(e.id=o.id),function(e){y((0,S.S)(!0)),s.mutateAsync(e).then((function(){y((0,S.S)(!1)),t()})).catch((function(){return y((0,S.S)(!1))}))}(e)})).catch((function(){return h.Am.error(u.QK.FormValidationMsg)}))},okText:"Submit",children:(0,A.jsx)(x.Z,{name:l.S.PR_DEFINITIONS_ADVANCE_TYPE_FORM,className:"p-5",form:D,initialValues:{description:"",shortDescription:"",minServiceMonth:"",post:!0},children:(0,A.jsxs)(d.Z,{align:"middle",justify:"space-between",children:[(0,A.jsx)(a.Z,{span:11,children:(0,A.jsx)(b.U,{label:"Description",required:!0,type:u.Ar.text,name:"description",messageLabel:"description",placeholder:"Enter description"})}),(0,A.jsx)(a.Z,{span:11,children:(0,A.jsx)(b.U,{label:"Short Description",required:!0,type:u.Ar.text,name:"shortDescription",messageLabel:"short description",placeholder:"Enter short description"})}),(0,A.jsx)(a.Z,{span:11,children:(0,A.jsx)(b.U,{label:"Min. Service Month",required:!0,type:u.Ar.number,name:"minServiceMonth",messageLabel:"Min. Service Month",placeholder:"Enter Min. Service Month",onlyNumbers:!0,min:0,max:12})}),(0,A.jsx)(a.Z,{span:11,children:(0,A.jsx)(b.U,{label:"Description",required:!0,type:u.Ar.text,name:"description",messageLabel:"description",placeholder:"Enter description"})}),(0,A.jsx)(a.Z,{span:11,children:(0,A.jsx)(v.Z,{label:"Active",name:"post"})})]})})})},y=t(1752),g=t(2622),D=t(7349),E=t(2262),M=t(7445),k=function(){var e=(0,p.I0)(),n=(0,M.W)(),t=n.getList,c=n.deleteRecords,d=n.submitRecord,a=n.invalidateList,l=t.isError?[]:(null===t||void 0===t?void 0:t.data)||[],u=(0,r.useState)(!1),h=(0,i.Z)(u,2),m=h[0],f=h[1],x=(0,r.useState)(null),b=(0,i.Z)(x,2),v=b[0],k=b[1],C=(0,r.useState)([]),I=(0,i.Z)(C,2),w=I[0],L=I[1],T=function(){return f((function(e){return!e}))},F=function(n){e((0,S.S)(!0)),c.mutateAsync(n).then((function(){e((0,S.S)(!1)),L([]),k(null)})).catch((function(){return e((0,S.S)(!1))}))},_=[{title:"Code",dataIndex:"code",sorter:function(e,n){return(0,j.$P)(e,n,"code")}},{title:"Description",dataIndex:"description",sorter:function(e,n){return(0,j.Ew)(e,n,"description")}},{title:"Short Description",dataIndex:"shortDescription",sorter:function(e,n){return(0,j.Ew)(e,n,"shortDescription")}},{title:"GL Code",dataIndex:"minServiceMonth",sorter:function(e,n){return(0,j.$P)(e,n,"minServiceMonth")}},{title:"Description",dataIndex:"description",sorter:function(e,n){return(0,j.Ew)(e,n,"description")}},{title:"Post",dataIndex:"post",sorter:function(e,n){return(0,j.$P)(e,n,"post")},render:function(e,n){return(0,A.jsx)(E.Z,{value:null===n||void 0===n?void 0:n.post,controlled:!0,disabled:!0})}},{title:"Action",dataIndex:"action",render:function(e,n){return(0,A.jsx)(D.Z,{menu:!0,options:[{label:"Edit",buttonType:"primary",icon:(0,A.jsx)(y.Z,{}),onClick:function(){return function(e){k(e),T()}(n)}},{label:"Delete",buttonType:"danger",icon:(0,A.jsx)(g.Z,{}),confirmAction:!0,onClick:function(){return F([n.id.toString()])}}]})}}],R=[{label:"Add",key:"add",onClick:function(){k(null),T()}},{label:"Delete",key:"delete",buttonType:"danger",confirmAction:!0,disabled:!w.length,onClick:function(){return F(w.map((function(e){return e.toString()})))}}];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Z,{open:m,onCancel:T,selected:v,submitRecord:d,invalidateList:a}),(0,A.jsx)(s.Z,{name:"Addition Type",buttons:R}),(0,A.jsx)("div",{className:"app_page_content",children:(0,A.jsx)(o.Z,{rowKey:"id",columns:_,data:l,selectAble:!0,selectedRows:w,onSelect:function(e){return L(e)},loading:t.isLoading,searchKeys:["code","description"]})})]})}}}]);
//# sourceMappingURL=5334.9999f43a.chunk.js.map
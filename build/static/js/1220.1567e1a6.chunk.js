"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[1220],{1300:function(e,n,t){t.d(n,{b:function(){return c}});var r=t(3433),i=t(9439),o=t(8968),c=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"code";if(0===e.length)return(0,o.u)("1",t);var a=(0,r.Z)(e).sort((function(e,n){return n[c]-e[c]})),s=(0,i.Z)(a,1)[0],d=parseInt(null!==(n=s[c])&&void 0!==n?n:0)+1;return d.toString().length>t?"":(0,o.u)(d,t)}},1067:function(e,n,t){var r=t(1413),i=t(7808),o=t(3329);n.Z=function(e){return(0,o.jsx)(i.Z,(0,r.Z)((0,r.Z)({centered:!0},e),{},{children:e.children}))}},35:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(4352),i=t(938),o=t(3329);function c(e){var n=e.collapseAble,t=void 0!==n&&n,c=e.title,a=e.children,s=e.className,d=void 0===s?"":s,l=r.Z.Panel;return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)(r.Z,{className:"form-card-collapsible ".concat(d),defaultActiveKey:[c],expandIcon:function(e){var n=e.isActive;return(0,o.jsx)(i.Z,{rotate:n?90:0})},ghost:!0,children:(0,o.jsx)(l,{header:c,children:a},c)}):(0,o.jsx)("div",{className:"form_card ".concat(d),children:(0,o.jsx)("div",{className:"card_body",children:a})})})}},6743:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(3388),i=t(1014),o=t(5033),c=t(711),a=t(6765),s=t(5421),d=t(3329),l={primary:"custom_menu_primary",secondary:"custom_menu_secondary",danger:"custom_menu_danger"};function u(e){var n=e.selectorDirection,t=void 0===n?"horizontal":n,u=e.menuList,m=void 0===u?[]:u,f=(0,d.jsx)(r.Z,{children:(0,d.jsx)("div",{className:"list-menu-dropdown-options",children:m.map((function(e,n){return!e.hidden&&(0,d.jsxs)(r.Z.Item,{onClick:function(){return e.confirmAction?(0,s.iG)(e.confirmTitle||"Deleting",e.confirmMsg||a.QK.DeleteConfirmMsg,e.onClick):e.onClick()},className:"link-text-color mb-2 ".concat(l[e.buttonType]||l.primary),disabled:!!e.disabled,children:[(0,d.jsx)("span",{className:"pr-2",children:e.icon}),(0,d.jsx)("span",{className:"px-2",children:e.label})]},n)}))})});return(0,d.jsx)(i.Z,{overlay:f,trigger:["click"],children:(0,d.jsx)("a",{onClick:function(e){return e.preventDefault()},children:"horizontal"==t?(0,d.jsx)(o.Z,{}):(0,d.jsx)(c.Z,{})})})}},7001:function(e,n,t){var r=t(3433),i=t(2791),o=t(7309),c=t(5421),a=t(9434),s=t(6765),d=t(3329),l={primary:"custom_button_primary",secondary:"custom_button_secondary",danger:"custom_button_danger"};n.Z=function(e){var n=e.label,t=e.onClick,u=e.icon,m=void 0===u?"":u,f=e.type,p=void 0===f?"primary":f,v=e.buttonType,h=void 0===v?"primary":v,x=e.htmlType,g=void 0===x?"button":x,b=e.loading,y=void 0!==b&&b,j=e.className,Z=void 0===j?"":j,C=e.disabled,N=void 0!==C&&C,_=e.confirmAction,k=void 0!==_&&_,w=e.confirmTitle,E=void 0===w?"Deleting":w,S=e.confirmMsg,A=void 0===S?s.QK.DeleteConfirmMsg:S,L=e.shortKey,R=void 0===L?"":L,T=e.style,D=void 0===T?{}:T,F=R&&s.T7[R]?R:"",I=(0,a.v9)((function(e){return e.showLoader})),M=I.pageLoading,K=I.appLoading,P=(0,i.useRef)(M);P.current=M;var H=(0,i.useRef)(K);H.current=K;var U=(0,i.useRef)(y);U.current=y;var O=(0,i.useRef)(N);O.current=N;var V=(0,i.useRef)(),z=function(e){if(F===e.key){e.preventDefault();var n=document.getElementsByClassName("ant-modal"),t=0===n.length||(0,r.Z)(n).every((function(e){return 0===e.offsetWidth}));P.current||H.current||U.current||O.current||!t||V.current.click()}};return(0,i.useEffect)((function(){if(F)return window.addEventListener("keydown",z),function(){return window.removeEventListener("keydown",z)}}),[]),(0,d.jsx)(o.ZP,{ref:V,className:"custom_button ".concat(Z," ").concat(l[h]),type:p,style:D,htmlType:g,loading:y,onClick:function(){return k?(0,c.iG)(E,A,t):t()},disabled:y||N,children:y?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("div",{className:"custom_button_content",children:[m&&m,(0,d.jsx)("span",{children:F?"".concat(n," (").concat(F,")"):n})]})})}},3782:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(1413),i=t(586),o=t(9434),c=t(9372),a=t(1087),s=t(7001),d=t(6743),l=t(3329),u=i.Z.Header;function m(e){var n=e.name,t=e.buttons,i=e.redirectURL,m=void 0===i?"":i,f=e.redirectLabel,p=void 0===f?"":f,v=e.responsiveClass,h=void 0===v?"":v,x=(0,o.v9)((function(e){return e.layout})),g=x.showTopBanner,b=x.topBannerHeight,y=x.headerHeight,j=x.collapsed,Z=x.hidden,C=x.mobileView,N=x.sidebarWidth,_=x.subHeaderHeight,k=C?"100%":"calc(100% - ".concat(Z||C?0:j?80:N,"px)"),w=g?y+b:y;return(0,l.jsx)(u,{style:(0,r.Z)({position:"fixed",zIndex:1,width:k,top:w,height:_},C?{left:0}:{}),className:"site-layout-sub-header",children:(0,l.jsx)("div",{className:"sub-header-container",children:(0,l.jsxs)("div",{className:"px-5 sub-header-wrapper",children:[(0,l.jsxs)("div",{className:"sub-header-title",children:[m&&(0,l.jsx)("div",{className:"redirect-btn",children:(0,l.jsxs)(a.rU,{to:m,className:"d-flex align-items-center gap-2",children:[(0,l.jsx)(c.Z,{}),(0,l.jsx)("span",{children:p})]})}),(0,l.jsx)("h2",{children:n})]}),(null===t||void 0===t?void 0:t.length)>0&&(0,l.jsxs)("div",{className:"sub-header-menu ".concat(h),children:[(0,l.jsx)("div",{className:"btn-desktop-view",children:t.map((function(e){return(0,l.jsx)(s.Z,(0,r.Z)({},e),e.label)}))}),(0,l.jsx)("span",{className:"btn-mobile-view",children:(0,l.jsx)(d.Z,{selectorDirection:"vertical",menuList:t})})]})]})})})}},9493:function(e,n,t){t.d(n,{MU:function(){return o},Pe:function(){return c},hh:function(){return i}});var r=t(8968),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=parseInt((0,r.m)(e)),isNaN(e)?n:e},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=parseFloat((0,r.m)(e)),isNaN(e)?n:e},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return o(e).toFixed(n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},8968:function(e,n,t){t.d(n,{m:function(){return r},u:function(){return i}});var r=function(e){return e?e.toString().replace(/,/g,"").trim():""},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?e.toString().padStart(n,"0"):""}},624:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(9439),i=t(2791),o=t(5145),c=t(3782),a=t(7846),s=t(6106),d=t(914),l=t(7145),u=t(6765),m=t(9434),f=t(9655),p=t(8403),v=t(1067),h=t(1736),x=t(5806),g=t(7951),b=t(1483),y=t(5421),j=t(9493),Z=t(8968),C=t(3329),N=function(e){var n=e.open,t=e.onCancel,o=e.selected,c=e.submitRecord,N=e.invalidateList,_=e.code_length,k=e.currentCode,w=(0,m.I0)(),E=a.Z.useForm(),S=(0,r.Z)(E,1)[0],A=function(){(0,p.r2)(null===o||void 0===o?void 0:o.id).then((function(e){var n;w((0,b.S)(!1)),n=e.data,S.setFields([{name:"code",value:n.code},{name:"description",value:n.description},{name:"post",value:n.post}])})).catch((function(e){w((0,b.S)(!1)),f.Am.error((0,y.nU)(e)),N(),t()}))};return(0,i.useEffect)((function(){n&&(S.resetFields(),S.setFieldValue("code",k),o&&A())}),[n,o,k]),(0,C.jsx)(v.Z,{title:o?"Edit Employee Category":"Add Employee Category",width:700,open:n,onCancel:t,onOk:function(){S.validateFields().then((function(e){if(0===(0,j.hh)(e.code))return f.Am.error("Employee Category Can't be 0");e.code=(0,Z.u)(e.code,_),e.post=!0===e.post||1==e.post?"1":"0",o&&(e.id=o.id),function(e){w((0,b.S)(!0)),c.mutateAsync(e).then((function(){w((0,b.S)(!1)),t()})).catch((function(){return w((0,b.S)(!1))}))}(e)})).catch((function(){return f.Am.error(u.QK.FormValidationMsg)}))},okText:"Submit",children:(0,C.jsx)(h.Z,{name:l.S.PR_HR_EMPLOYEE_CATEGORY_FORM,className:"p-5",form:S,initialValues:{code:"",description:"",post:!0},children:(0,C.jsxs)(s.Z,{align:"middle",justify:"space-between",children:[(0,C.jsx)(d.Z,{lg:11,children:(0,C.jsx)(x.U,{label:"Employee Category",required:!0,type:u.Ar.text,name:"code",messageLabel:"employee category",placeholder:"Enter employee category",inputLength:_,onlyNumbers:!0})}),(0,C.jsx)(d.Z,{span:11,children:(0,C.jsx)(x.U,{label:"Description",required:!0,type:u.Ar.text,name:"description",messageLabel:"description",placeholder:"Enter description"})}),(0,C.jsx)(d.Z,{span:11,children:(0,C.jsx)(g.Z,{label:"Active",name:"post"})})]})})})},_=t(1752),k=t(2622),w=t(7349),E=t(4992),S=t(2262),A=t(1300),L=function(){var e=(0,m.I0)(),n=(0,E.uw)(),t=n.getList,a=n.deleteRecords,s=n.submitRecord,d=n.invalidateList,l=t.isError?[]:(null===t||void 0===t?void 0:t.data)||[],u=(0,i.useState)(!1),f=(0,r.Z)(u,2),p=f[0],v=f[1],h=(0,i.useState)(null),x=(0,r.Z)(h,2),g=x[0],j=x[1],Z=(0,i.useState)([]),L=(0,r.Z)(Z,2),R=L[0],T=L[1],D=(0,i.useState)(""),F=(0,r.Z)(D,2),I=F[0],M=F[1],K=function(){return v((function(e){return!e}))},P=function(n){e((0,b.S)(!0)),a.mutateAsync(n).then((function(){e((0,b.S)(!1)),T([]),j(null)})).catch((function(){return e((0,b.S)(!1))}))},H=[{title:"Employee Cat.",dataIndex:"code",sorter:function(e,n){return(0,y.Ew)(e,n,"code")}},{title:"Description",dataIndex:"description",sorter:function(e,n){return(0,y.Ew)(e,n,"description")}},{title:"Post",dataIndex:"post",sorter:function(e,n){return(0,y.$P)(e,n,"post")},render:function(e,n){return(0,C.jsx)(S.Z,{value:null===n||void 0===n?void 0:n.post,controlled:!0,disabled:!0})}},{title:"Action",dataIndex:"action",render:function(e,n){return(0,C.jsx)(w.Z,{menu:!0,options:[{label:"Edit",buttonType:"primary",icon:(0,C.jsx)(_.Z,{}),onClick:function(){return function(e){j(e),K()}(n)}},{label:"Delete",buttonType:"danger",icon:(0,C.jsx)(k.Z,{}),confirmAction:!0,onClick:function(){return P([n.id.toString()])}}]})}}],U=[{label:"Add",key:"add",onClick:function(){j(null),M((0,A.b)(l,2)),K()}},{label:"Delete",key:"delete",buttonType:"danger",confirmAction:!0,disabled:!R.length,onClick:function(){return P(R.map((function(e){return e.toString()})))}}];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N,{open:p,onCancel:K,selected:g,submitRecord:s,invalidateList:d,code_length:2,currentCode:I}),(0,C.jsx)(c.Z,{name:"Employee Categories",buttons:U}),(0,C.jsx)("div",{className:"app_page_content",children:(0,C.jsx)(o.Z,{rowKey:"id",columns:H,data:l,selectAble:!0,selectedRows:R,onSelect:function(e){return T(e)},loading:t.isLoading,searchKeys:["code","description"]})})]})}},914:function(e,n,t){var r=t(9752);n.Z=r.Z},6106:function(e,n,t){var r=t(7545);n.Z=r.Z}}]);
//# sourceMappingURL=1220.1567e1a6.chunk.js.map
"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[3897],{5531:function(e,n,a){var t=a(9188),o=a(8749),c=a(3329);n.Z=function(e){var n,a,i,l=e.label,r=void 0===l?"Main Account":l,s=e.messageLabel,u=void 0===s?"Main Account":s,d=e.placeholder,v=void 0===d?"Search Main Account":d,m=e.controlled,h=void 0===m||m,f=e.required,p=void 0!==f&&f,b=e.value,x=e.onChange,Z=(0,t.$l)().getList,g=Z.isError?[]:(null===Z||void 0===Z?void 0:Z.data)||[];return(0,c.jsx)(o.Z,{label:r,messageLabel:u,placeholder:v,options:g,controlled:h,value:null!==(n=null===b||void 0===b?void 0:b.value)&&void 0!==n?n:"",selectedOption:null!==(a=null===b||void 0===b?void 0:b.option)&&void 0!==a?a:null,defaultValue:null!==(i=null===b||void 0===b?void 0:b.defaultValue)&&void 0!==i?i:"",onChange:x,loading:Z.isLoading,required:p})}},1067:function(e,n,a){var t=a(1413),o=a(7808),c=a(3329);n.Z=function(e){return(0,c.jsx)(o.Z,(0,t.Z)((0,t.Z)({centered:!0},e),{},{children:e.children}))}},7349:function(e,n,a){a.d(n,{Z:function(){return u}});a(2791);var t=a(6743),o=a(6765),c=a(5421),i=a(2346),l=a(3329);function r(e){return(0,l.jsx)(i.Z,{color:"#091e42",placement:e.position?e.position:"top",title:e.text,children:e.children})}var s={primary:"custom_action_menu_primary",secondary:"custom_action_menu_secondary",danger:"custom_action_menu_danger"},u=function(e){var n=e.options;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"btn-mobile-view",children:(0,l.jsx)(t.Z,{menuList:n,selectorDirection:"vertical"})}),(0,l.jsx)("div",{className:"gap-3 btn-desktop-view menu_action_items",children:null===n||void 0===n?void 0:n.map((function(e,n){var a=e.label,t=e.buttonType,i=e.onClick,u=e.confirmAction,d=e.confirmTitle,v=e.icon,m=e.confirmMsg;return!e.hidden&&(0,l.jsx)(r,{text:a,children:(0,l.jsx)("span",{className:"".concat(s[t]||s.primary),onClick:function(){return u?(0,c.iG)(d||"Deleting",m||o.QK.DeleteConfirmMsg,i):i()},children:v})},n)}))})]})}},5145:function(e,n,a){a.d(n,{Z:function(){return Z}});var t=a(3433),o=a(1413),c=a(4925),i=a(9439),l=a(8597),r=a(2996),s=a(7846),u=a(9039),d=a(2791),v=a(35),m=a(1730),h=a(1042),f=a(3329),p=function(e){var n=e.setSearch;return(0,f.jsx)("div",{className:"custom_search_input_container",children:(0,f.jsxs)("div",{className:"custom_search_input_content",children:[(0,f.jsx)(h.ZP,{className:"custom_search_input px-5",onChange:function(e){n(e)}}),(0,f.jsx)(m.Z,{className:"custom_search_icon"})]})})},b=a(6432),x=["editing","dataIndex","title","inputType","record","index","children"],Z=function(e){var n=e.columns,a=void 0===n?[]:n,m=e.data,Z=void 0===m?[]:m,g=e.rowClassName,j=void 0===g?"":g,_=e.loading,A=void 0!==_&&_,k=e.selectAble,C=void 0!==k&&k,N=e.selectedRows,y=void 0===N?[]:N,S=e.onSelect,I=e.pagination,w=void 0===I||I,B=e.current,E=e.pageSize,L=e.total,O=e.pageSizeOptions,T=void 0===O?[10,20,50,100]:O,M=e.onChange,D=(e.isEditing,e.scrollX),F=void 0===D?768:D,P=e.scrollY,V=void 0===P?null:P,U=e.searchAble,q=void 0===U||U,z=e.searchKeys,G=void 0===z?[]:z,K=e.cardClassName,R=e.rowKey,$=void 0===R?"OID":R,Y=e.selectionType,H=void 0===Y?"checkbox":Y,Q=e.summary,X=void 0===Q?function(){}:Q,J=(0,d.useState)(""),W=(0,i.Z)(J,2),ee=W[0],ne=W[1],ae=(0,t.Z)((0,b.j)(Z)).filter((0,h.cj)(ee,G)),te={};return null!=F&&(te.x=F),null!=V&&(te.y=V),(0,f.jsxs)(v.Z,{className:"table_card_container ".concat(K),children:[q&&(0,f.jsx)(p,{setSearch:ne}),(0,f.jsx)(u.Z,{columns:a,dataSource:ae,rowClassName:j,loading:A,rowKey:$,onChange:M,rowSelection:C&&{selectedRows:y,onChange:S,type:H,selectedRowKeys:y},scroll:te,pagination:w&&{total:L,pageSize:E,current:B,showSizeChanger:!0,size:"small",pageSizeOptions:T},components:{body:{cell:function(e){var n=e.editing,a=e.dataIndex,t=e.title,i=e.inputType,u=(e.record,e.index,e.children),d=(0,c.Z)(e,x),v="number"===i?(0,f.jsx)(l.Z,{}):(0,f.jsx)(r.Z,{});return(0,f.jsx)("td",(0,o.Z)((0,o.Z)({},d),{},{children:n?(0,f.jsx)(s.Z.Item,{name:a,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(t,"!")}],children:v}):u}))}}},summary:X})]})}},8749:function(e,n,a){var t=a(1413),o=a(7106),c=a(43),i=a(7846),l=a(5),r=a(763),s=a(2791),u=a(6432),d=a(3329);n.Z=function(e){var n=e.label,a=e.name,v=e.messageLabel,m=e.placeholder,h=void 0===m?"Search":m,f=e.onChange,p=e.onSearch,b=e.value,x=e.options,Z=void 0===x?[]:x,g=e.required,j=void 0!==g&&g,_=e.controlled,A=void 0!==_&&_,k=e.autoFocus,C=void 0!==k&&k,N=e.allowClear,y=void 0!==N&&N,S=e.loading,I=void 0!==S&&S,w=e.className,B=void 0===w?"":w,E=e.disabled,L=void 0!==E&&E,O=e.parentClassName,T=void 0===O?"":O,M=e.style,D=void 0===M?{}:M,F=e.async,P=void 0!==F&&F,V=e.selectedOption,U=void 0===V?null:V,q=e.defaultValue,z=void 0===q?"":q,G=(0,s.useMemo)((function(){return(0,r.debounce)((function(e){P&&p(e)}),500)}),[]),K=(0,s.useMemo)((function(){return I?(0,d.jsx)(c.Z,{style:{fontSize:20},indicator:(0,d.jsx)(o.Z,{style:{color:"#635bff"},spin:!0})}):""}),[I]),R=(0,s.useMemo)((function(){return(0,u.X)(Z,"value")}),[Z]),$=function(e,n){var a;return(null!==(a=n.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},Y=function(e,n){var a;return f({value:null!==(a=null===n||void 0===n?void 0:n.label)&&void 0!==a?a:e,option:n,defaultValue:""})},H=function(){null==U&&b&&Y("",null)};return(0,s.useEffect)((function(){z&&R[z]&&f({value:R[z].label,option:R[z],defaultValue:""})}),[z,R]),(0,d.jsx)(i.Z.Item,{name:a,style:D,className:T,validateTrigger:"onBlur",label:n,rules:[{required:j,message:"Please select ".concat(v,".")}],children:(0,d.jsx)(l.Z,(0,t.Z)({},function(){var e={popupClassName:"antd-selectInput-custom ".concat(B),placeholder:h,autoFocus:C,allowClear:y,disabled:L,options:Z,notFoundContent:K,filterOption:!P&&$};return P&&(e.onSearch=G),A&&(e.value=b,e.onChange=function(e){return Y(e,null)},e.onSelect=Y,e.onBlur=H),e}()))})}},2262:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(1413),o=(a(2791),a(7846)),c=a(9862),i=a(3329);function l(e){var n=e.name,a=e.label,l=e.className,r=void 0===l?"":l,s=e.controlled,u=void 0!==s&&s,d=e.value,v=e.onChange,m=e.disabled,h=function(e){return v(e.target.checked)};return(0,i.jsx)(o.Z.Item,{name:n,className:"custom_checkbox",valuePropName:"checked",children:(0,i.jsx)(c.Z,(0,t.Z)((0,t.Z)({},function(){var e={className:"antd-input-checkbox-custom ".concat(r),disabled:m};return u&&(e.checked=d,e.onChange=h),e}()),{},{children:a}))})}},7951:function(e,n,a){var t=a(1413),o=a(7846),c=a(1306),i=a(3329);n.Z=function(e){var n=e.name,a=e.label,l=e.className,r=void 0===l?"":l,s=e.parentClassName,u=void 0===s?"":s,d=e.controlled,v=void 0!==d&&d,m=e.value,h=e.onChange,f=e.size,p=void 0===f?"large":f,b=e.disabled,x=void 0!==b&&b,Z=function(e){return h(e.target.checked)};return(0,i.jsx)(o.Z.Item,{name:n,label:a,valuePropName:"checked",className:u,children:(0,i.jsx)(c.Z,(0,t.Z)({},function(){var e={className:"antd_input_switch_custom ".concat(r),size:p,disabled:x};return v&&(e.checked=m,e.onChange=Z),e}()))})}},1483:function(e,n,a){a.d(n,{S:function(){return o}});var t=a(3952),o=function(e){return{type:t.JF,payload:e}}},3897:function(e,n,a){a.r(n),a.d(n,{default:function(){return B}});var t=a(9439),o=a(2791),c=a(3782),i=a(5145),l=a(1413),r=a(7846),s=a(6106),u=a(914),d=a(5531),v=a(6765),m=a(9434),h=a(9655),f=a(9188),p=a(5009),b=a(1067),x=a(1736),Z=a(5806),g=a(1367),j=a(7951),_=a(1483),A=a(5421),k=a(3329),C=[{label:"All",value:0}],N=function(e){var n=e.open,a=e.onCancel,c=e.selected,i=(0,o.useState)((0,l.Z)({},v.$I)),N=(0,t.Z)(i,2),y=N[0],S=N[1],I=(0,m.I0)(),w=r.Z.useForm(),B=(0,t.Z)(w,1)[0],E=(0,f.Pn)(!1),L=E.submitRecord,O=E.invalidateList,T=function(){S((function(e){return(0,l.Z)((0,l.Z)({},e),v.$I)})),B.resetFields()},M=function(e){L.mutateAsync(e).then((function(){I((0,_.S)(!1)),T(),a()})).catch((function(e){I((0,_.S)(!1)),h.Am.error((0,A.nU)(e))}))},D=function(){(0,p.VB)(null===c||void 0===c?void 0:c.OID).then((function(e){I((0,_.S)(!1)),function(e){var n=e.BankName,a=e.BankAccountNo,t=e.BranchName,o=e.BranchAddress,c=e.Active,i=e.LocationId,r=e.GlAccountId;S((0,l.Z)((0,l.Z)({},y),{},{defaultValue:r})),B.setFields([{name:"bankname",value:n},{name:"bankaccount",value:a},{name:"branchname",value:t},{name:"bankaddress",value:o},{name:"active",value:1==c},{name:"location_id",value:i}])}(e.data)})).catch((function(e){I((0,_.S)(!1)),h.Am.error((0,A.nU)(e)),O(),a()}))};return(0,o.useEffect)((function(){n&&(T(),c&&D())}),[n,c]),(0,k.jsx)(b.Z,{title:c?"Edit Bank Master":"Add Bank Master",width:700,okText:"Submit",open:n,onCancel:a,onOk:function(){var e,n=!0;null!==(e=y.option)&&void 0!==e&&e.value||(h.Am.error("Please select GL Account"),n=!1),B.validateFields().then((function(e){n&&function(e){var n;e.active=!0===e.active||1==e.active?1:0,e.GI_Account_id=null===(n=y.option)||void 0===n?void 0:n.value,c&&(e.OID=null===c||void 0===c?void 0:c.OID),M(e)}(e)})).catch((function(){return h.Am.error(v.QK.FormValidationMsg)}))},children:(0,k.jsx)(x.Z,{name:"voucherTypeForm",className:"p-5",form:B,initialValues:{bankname:"",bankaccount:null,branchname:"",bankaddress:"",active:!1,location_id:0},children:(0,k.jsxs)(s.Z,{align:"middle",justify:"space-between",children:[(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(Z.U,{label:"Bank Name",required:!0,type:v.Ar.text,name:"bankname",messageLabel:"bank name",placeholder:"Enter bank name"})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(Z.U,{label:"Bank Account No",required:!0,type:v.Ar.text,name:"bankaccount",messageLabel:"bank account no.",placeholder:"Enter bank account no."})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(Z.U,{label:"Branch Name",required:!0,type:v.Ar.text,name:"branchname",messageLabel:"branch name",placeholder:"Enter branch name"})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(Z.U,{label:"Branch Address",required:!0,type:v.Ar.text,name:"bankaddress",messageLabel:"branch address",placeholder:"Enter branch address"})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(g.Z,{label:"Location",className:"subheader_locations",placeholder:"Select location",onChange:function(e){},name:"location_id",controlled:!1,options:C})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(d.Z,{value:y,onChange:function(e){S((function(n){return(0,l.Z)((0,l.Z)({},n),e)}))},label:"Gl Account",messageLabel:"Gl Account",placeholder:"Search Gl Account"})}),(0,k.jsx)(u.Z,{span:11,children:(0,k.jsx)(j.Z,{label:"Active",name:"active",parentClassName:"bank_master_active"})})]})})})},y=a(7349),S=a(1752),I=a(2622),w=a(2262);function B(){var e=(0,o.useState)(!1),n=(0,t.Z)(e,2),a=n[0],l=n[1],r=(0,o.useState)(null),s=(0,t.Z)(r,2),u=s[0],d=s[1],v=(0,f.Pn)(),h=v.getList,p=v.deleteRecords,b=(0,m.I0)(),x=function(){l((function(e){return!e}))},Z=[{title:"Bank Name",dataIndex:"BankName",sorter:function(e,n){return(0,A.Ew)(e,n,"BankName")}},{title:"Bank Account No",dataIndex:"BankAccountNo",sorter:function(e,n){return(0,A.Ew)(e,n,"BankAccountNo")}},{title:"Branch Name",dataIndex:"BranchName",sorter:function(e,n){return(0,A.Ew)(e,n,"BranchName")}},{title:"Branch Address",dataIndex:"BranchAddress",sorter:function(e,n){return(0,A.Ew)(e,n,"BranchAddress")}},{title:"Main Account Desc",dataIndex:"GlAccountId",sorter:function(e,n){return(0,A.$P)(e,n,"GlAccountId")},render:function(e,n){var a;return"".concat(null!==n&&void 0!==n&&n.ST_MAIN_ACCOUNT_CODE?(null===n||void 0===n?void 0:n.ST_MAIN_ACCOUNT_CODE)+"-":"").concat(null!==(a=null===n||void 0===n?void 0:n.main_account_name)&&void 0!==a?a:"")}},{title:"Active",dataIndex:"Active",sorter:function(e,n){return(0,A.$P)(e,n,"Active")},render:function(e,n){return(0,k.jsx)(w.Z,{value:null===n||void 0===n?void 0:n.Active,controlled:!0,disabled:!0})}},{title:"Action",dataIndex:"action",render:function(e,n){return(0,k.jsx)(y.Z,{menu:!1,options:[{label:"Edit",buttonType:"primary",icon:(0,k.jsx)(S.Z,{}),onClick:function(){return function(e){d(e),x()}(n)}},{label:"Delete",buttonType:"danger",icon:(0,k.jsx)(I.Z,{}),confirmAction:!0,onClick:function(){return e=n.OID,b((0,_.S)(!0)),void p.mutateAsync(e).then((function(){b((0,_.S)(!1)),d(null)})).catch((function(){return b((0,_.S)(!1))}));var e}}]})}}],g=[{label:"Add",key:"edit",onClick:function(){d(null),x()}}],j=h.isError?[]:(null===h||void 0===h?void 0:h.data)||[];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{name:"Bank Master",buttons:g}),(0,k.jsx)("div",{className:"app_page_content",children:(0,k.jsx)(i.Z,{columns:Z,data:j,loading:h.isLoading,searchKeys:["ST_VOUCHER_TYPE_CODE","ST_VOUCHER_TYPE_DESC"]})}),(0,k.jsx)(N,{open:a,onCancel:x,selected:u})]})}}}]);
//# sourceMappingURL=3897.1ea9e2e1.chunk.js.map
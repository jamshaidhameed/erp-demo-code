"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[2369],{6578:function(n,e,t){t(2791);var i=t(1367),o=t(3329);e.Z=function(n){var e=n.name,t=n.controlled,a=void 0!==t&&t,c=n.required,r=n.allowClear,l=n.disabled,s=void 0!==l&&l,d=n.value,u=n.onChange,h=n.options,g=n.loading,v=void 0!==g&&g;return(0,o.jsx)(i.Z,{fieldNames:{label:"title",value:"id"},name:e,label:"Cost Centre",messageLabel:"cost centre",options:h,placeholder:"Select cost centre",loading:v,required:c,allowClear:r,disabled:s,controlled:a,value:d,onChange:function(n){return u(h.find((function(e){return e.id===n})))}})}},1254:function(n,e,t){t(2791);var i=t(9188),o=t(1367),a=t(3329);e.Z=function(n){var e=n.name,t=n.required,c=n.disabled,r=void 0!==c&&c,l=n.value,s=n.showAll,d=void 0!==s&&s,u=n.onChange,h=void 0===u?function(){}:u,g=(0,i.x)().getList,v=g.isError?[]:(null===g||void 0===g?void 0:g.data)||[];d&&v.unshift({ST_VOUCHER_TYPE_DESC:"ALL",OID:"all"});return(0,a.jsx)(o.Z,{fieldNames:{label:"ST_VOUCHER_TYPE_DESC",value:"OID"},name:e,label:"Voucher Type",messageLabel:"voucher type",options:v,placeholder:"Select voucher type",loading:g.isLoading,required:t,disabled:r,controlled:!0,value:l,onChange:function(n){return h(v.find((function(e){return e.OID===n})))}})}},9625:function(n,e,t){t.d(e,{Cs:function(){return o},OH:function(){return i},S2:function(){return a},SJ:function(){return r},_b:function(){return c}});var i=[{label:"All",value:"all"}],o={JV_PRINT_CONTENT_LIST:"JV_PRINT_CONTENT_LIST",JV_PRINT_CONTENT_FORM:"JV_PRINT_CONTENT_FORM",COA_REPORT_PRINT_CONTENT:"COA_REPORT_PRINT_CONTENT",JV_REPORT_PRINT_CONTENT:"JV_REPORT_PRINT_CONTENT",GL_REPORT_PRINT_CONTENT:"GL_REPORT_PRINT_CONTENT",SL_REPORT_PRINT_CONTENT:"SL_REPORT_PRINT_CONTENT",TB_REPORT_PRINT_CONTENT:"TB_REPORT_PRINT_CONTENT",PL_REPORT_PRINT_CONTENT:"PL_REPORT_PRINT_CONTENT"},a={GL:"GL"},c=i[0].value,r={F_JV_DETAIL_SECTION_FORM:"F_JV_DETAIL_SECTION_FORM",F_JV_PARENT_SECTION_FORM:"F_JV_PARENT_SECTION_FORM",F_GR_JV_SEARCH_FORM:"F_GR_JV_SEARCH_FORM",F_UDFA_PARENT_SECTION_FORM:"F_UDFA_PARENT_SECTION_FORM",F_UDFA_DETAIL_SECTION_FORM:"F_UDFA_DETAIL_SECTION_FORM"}},8678:function(n,e,t){t.d(e,{O:function(){return f}});var i=t(2917),o=t(4165),a=t(5861),c=t(6432),r=t(1381),l=t(1876).h.getState().configs.apiBaseUrls.ams,s="".concat(l,"/api/ams"),d="".concat(s,"/cost-centre/get"),u=function(){var n=(0,a.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.get(d).then((function(n){return(0,c.j)(n.data)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h="AMS_CC_SELECT_LIST",g=t(9655),v=t(5421);function f(){return{getList:(0,i.a)({queryKey:[h],queryFn:u,onError:function(n){return g.Am.error((0,v.nU)(n))}})}}},3172:function(n,e,t){t.d(e,{Vw:function(){return g},XK:function(){return u},fX:function(){return s},qg:function(){return h},tZ:function(){return d},x8:function(){return l}});var i=t(4165),o=t(5861),a=t(1381),c=t(3932),r=t(6432),l=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){var t,o=arguments;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:"",n.next=3,a.Z.get(c.ep,{params:{level:t,organization_ID:e}}).then((function(n){return(0,r.j)(n.data)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.post(c.Y7,e).then((function(n){return(0,r.j)(n.data)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get(c.lp,{params:e}).then((function(n){return(0,r.j)(n.data)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get(c.Ay,{params:e}).then((function(n){return(0,r.j)(n.data)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get(c.KK,{params:e}).then((function(n){return(0,r.j)(n.data)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get(c.wS,{params:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},8749:function(n,e,t){var i=t(1413),o=t(7106),a=t(43),c=t(7846),r=t(5),l=t(763),s=t(2791),d=t(6432),u=t(3329);e.Z=function(n){var e=n.label,t=n.name,h=n.messageLabel,g=n.placeholder,v=void 0===g?"Search":g,f=n.onChange,p=n.onSearch,m=n.value,x=n.options,w=void 0===x?[]:x,S=n.required,_=void 0!==S&&S,b=n.controlled,Z=void 0!==b&&b,T=n.autoFocus,C=void 0!==T&&T,I=n.allowClear,N=void 0!==I&&I,j=n.loading,E=void 0!==j&&j,O=n.className,M=void 0===O?"":O,y=n.disabled,P=void 0!==y&&y,R=n.parentClassName,k=void 0===R?"":R,D=n.style,A=void 0===D?{}:D,L=n.async,F=void 0!==L&&L,z=n.selectedOption,V=void 0===z?null:z,H=n.defaultValue,B=void 0===H?"":H,G=(0,s.useMemo)((function(){return(0,l.debounce)((function(n){F&&p(n)}),500)}),[]),U=(0,s.useMemo)((function(){return E?(0,u.jsx)(a.Z,{style:{fontSize:20},indicator:(0,u.jsx)(o.Z,{style:{color:"#635bff"},spin:!0})}):""}),[E]),q=(0,s.useMemo)((function(){return(0,d.X)(w,"value")}),[w]),J=function(n,e){var t;return(null!==(t=e.label)&&void 0!==t?t:"").toLowerCase().includes(n.toLowerCase())},W=function(n,e){var t;return f({value:null!==(t=null===e||void 0===e?void 0:e.label)&&void 0!==t?t:n,option:e,defaultValue:""})},K=function(){null==V&&m&&W("",null)};return(0,s.useEffect)((function(){B&&q[B]&&f({value:q[B].label,option:q[B],defaultValue:""})}),[B,q]),(0,u.jsx)(c.Z.Item,{name:t,style:A,className:k,validateTrigger:"onBlur",label:e,rules:[{required:_,message:"Please select ".concat(h,".")}],children:(0,u.jsx)(r.Z,(0,i.Z)({},function(){var n={popupClassName:"antd-selectInput-custom ".concat(M),placeholder:v,autoFocus:C,allowClear:N,disabled:P,options:w,notFoundContent:U,filterOption:!F&&J};return F&&(n.onSearch=G),Z&&(n.value=m,n.onChange=function(n){return W(n,null)},n.onSelect=W,n.onBlur=K),n}()))})}},8588:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(1413),o=t(2648),a=t(7846),c=(t(2791),t(7892)),r=t.n(c),l=t(3329),s=o.Z.RangePicker;function d(n){var e=n.label,t=n.name,c=n.messageLabel,d=n.placeholder,u=n.onChange,h=n.value,g=n.showRange,v=void 0!==g&&g,f=n.showTime,p=void 0!==f&&f,m=n.required,x=void 0!==m&&m,w=n.controlled,S=void 0!==w&&w,_=n.autoFocus,b=void 0!==_&&_,Z=n.allowClear,T=void 0!==Z&&Z,C=n.minDate,I=void 0===C?null:C,N=n.className,j=void 0===N?"":N,E=n.disabled,O=void 0!==E&&E,M=n.popupClassName,y=void 0===M?"":M,P="hh:mm:ss A",R="MMMM D, YYYY",k=function(n,e){return u((t=e)?p?new Date(t):new Date("".concat(t," ").concat((new Date).toLocaleTimeString())):null);var t},D=function(){var n={popupClassName:y,className:"antd-input-custom antd-dateInput-custom ".concat(j),placeholder:d,autoFocus:b,allowClear:T,disabled:O,format:p?"".concat(R," ").concat(P):R,showTime:p?{format:P}:null};return S&&(n.value=h?r()(h):null,n.onChange=k),n};return(0,l.jsx)(a.Z.Item,{name:t,validateTrigger:"onBlur",label:e,rules:[{required:x,message:"Please enter ".concat(c,".")}],children:v?(0,l.jsx)(s,(0,i.Z)({},D())):(0,l.jsx)(o.Z,(0,i.Z)((0,i.Z)({},D()),{},{disabledDate:function(n){return I?n<I:null}}))})}},7951:function(n,e,t){var i=t(1413),o=t(7846),a=t(1306),c=t(3329);e.Z=function(n){var e=n.name,t=n.label,r=n.className,l=void 0===r?"":r,s=n.parentClassName,d=void 0===s?"":s,u=n.controlled,h=void 0!==u&&u,g=n.value,v=n.onChange,f=n.size,p=void 0===f?"large":f,m=n.disabled,x=void 0!==m&&m,w=function(n){return v(n.target.checked)};return(0,c.jsx)(o.Z.Item,{name:e,label:t,valuePropName:"checked",className:d,children:(0,c.jsx)(a.Z,(0,i.Z)({},function(){var n={className:"antd_input_switch_custom ".concat(l),size:p,disabled:x};return h&&(n.checked=g,n.onChange=w),n}()))})}},1483:function(n,e,t){t.d(e,{S:function(){return o}});var i=t(3952),o=function(n){return{type:i.JF,payload:n}}},9543:function(n,e,t){t.d(e,{LM:function(){return g},p8:function(){return v},pi:function(){return f},y4:function(){return h}});var i=t(6765),o=t(7892),a=t.n(o),c=t(3666),r=t.n(c),l=t(130),s=t.n(l),d=t(3027),u=t.n(d);a().extend(r()),a().extend(s()),a().extend(u());var h=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.nH[2];return a().utc(a()(n).format(i.nH[1])).local().format(e)},g=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.nH[2];return a()(n).format(e)},v=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.nH[9];return a()(h(n,e))},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.nH[9];return a()().format(n)}},739:function(n,e,t){t.d(e,{p:function(){return o},z:function(){return i}});var i=function(n){var e=document.querySelectorAll(".no-scroll-on-print");e.forEach((function(n){n.style.overflow="unset"}));var t=window.open(" ","Print Page","width=".concat(800,", height=",2e3));t.document.write(document.getElementById(n).innerHTML),t.document.close(),e.forEach((function(n){n.style.overflow="auto"})),setTimeout((function(){t.print(),t.close()}),250)},o=function(n){var e='<html> <head> <meta http-equiv="content-type" content="text/plain; charset=UTF-8"/> </head> <body> '+document.getElementById(n).innerHTML+"</body> </html>";window.location.href="data:application/vnd.ms-excel;base64,"+window.btoa(e)}},2369:function(n,e,t){t.r(e),t.d(e,{default:function(){return z}});var i=t(1413),o=t(9439),a=t(3782),c=t(35),r=t(9625),l=t(2791),s=t(9434),d=t(1483),u=t(5421),h=t(9655),g=t(739),v=t(3433),f=t(4165),p=t(5861),m=t(6106),x=t(914),w=t(7001),S=t(1736),_=t(8588),b=t(1254),Z=t(1367),T=t(6578),C=t(8678),I=t(8749),N=t(7951),j=t(6765),E=t(3329);function O(n){var e,t,o,a,c,r,s,d,u,h,g,O,M=n.form,y=n.allBooks,P=n.initialValues,R=n.setInitialValues,k=n.subAccountsGroups,D=n.handleSubAccountGroup,A=n.getMainAccounts,L=n.onGenerate,F=n.getSubAccounts,z=n.mainAccount,V=n.handleChangeMainAccount,H=n.fromSubAccount,B=n.handleChangeFromAccount,G=n.toSubAccount,U=n.handleChangeToAccount,q=(0,C.O)().getList,J=q.isError?[]:(null===q||void 0===q?void 0:q.data)||[],W=A.isError?[]:(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.filter((function(n){return n.GL_SUB_ACCOUNT_GROUPS===P.subAccountGroup})))||[],K=F.isError?[]:(null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{label:"".concat(n.ST_SUB_ACCOUNT_CODE,"-").concat(n.ST_SUB_ACCOUNT_DESC),value:n.OID})})))||[];(0,l.useEffect)((function(){V((0,i.Z)({},j.$I))}),[P.subAccountGroup]);var X=function(){var n=(0,p.Z)((0,f.Z)().mark((function n(e){var t;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:R((0,i.Z)((0,i.Z)({},P),{},{voucher_type:null!==(t=null===e||void 0===e?void 0:e.OID)&&void 0!==t?t:"all"}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Y=y.isError?[]:(null===y||void 0===y||null===(o=y.data)||void 0===o?void 0:o.length)>0?[{ST_BOOK_DESC:"ALL",OID:"all"}].concat((0,v.Z)(y.data.filter((function(n){return n.GL_VOUCHER_TYPES===P.voucher_type})))):[{ST_BOOK_DESC:"ALL",OID:"all"}];return(0,E.jsx)(S.Z,{name:"generalLedgerReport",initialValues:P,form:M,className:"px-8",children:(0,E.jsxs)(m.Z,{justify:"flex-start",align:"bottom",gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(_.Z,{label:"From Date",name:"fromDate",required:!0,messageLabel:"start date",placeholder:"Enter Start Date"})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(_.Z,{label:"To Date",name:"toDate",required:!0,messageLabel:"start date",placeholder:"Enter Start Date"})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(b.Z,{name:"voucher_type",showAll:!0,required:!0,value:P.voucher_type,onChange:X})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(Z.Z,{fieldNames:{label:"ST_BOOK_DESC",value:"OID"},name:"book_id",label:"Select Book",options:Y,loading:y.isLoading,messageLabel:"Book",required:!0})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(Z.Z,{label:"Sub Account Groups",name:"subAccountGroup",placeholder:"Select group",controlled:!0,onChange:D,options:k})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(I.Z,{label:"Main Account",options:W,loading:A.isLoading,controlled:!0,onChange:V,messageLabel:"main account",required:!0,value:null!==(a=null===z||void 0===z?void 0:z.value)&&void 0!==a?a:"",selectedOption:null!==(c=null===z||void 0===z?void 0:z.option)&&void 0!==c?c:null,defaultValue:null!==(r=null===z||void 0===z?void 0:z.defaultValue)&&void 0!==r?r:""})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(I.Z,{label:"From Sub Account",options:K,loading:F.isLoading,controlled:!0,onChange:B,messageLabel:"from sub account",required:!0,value:null!==(s=null===H||void 0===H?void 0:H.value)&&void 0!==s?s:"",selectedOption:null!==(d=null===H||void 0===H?void 0:H.option)&&void 0!==d?d:null,defaultValue:null!==(u=null===H||void 0===H?void 0:H.defaultValue)&&void 0!==u?u:""})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(I.Z,{label:"To Sub Account",options:K,loading:F.isLoading,controlled:!0,onChange:U,messageLabel:"to sub account",required:!0,value:null!==(h=null===G||void 0===G?void 0:G.value)&&void 0!==h?h:"",selectedOption:null!==(g=null===G||void 0===G?void 0:G.option)&&void 0!==g?g:null,defaultValue:null!==(O=null===G||void 0===G?void 0:G.defaultValue)&&void 0!==O?O:""})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(T.Z,{name:"cost_centre",required:!0,options:J,loading:q.isLoading})}),(0,E.jsx)(x.Z,{xxl:8,lg:12,sm:12,xs:24,className:"gutter-row",children:(0,E.jsx)(N.Z,{label:"Include UnPosted Vouchers",name:"post"})}),(0,E.jsx)(x.Z,{xxl:8,lg:4,sm:10,xs:10,className:"gutter-row",children:(0,E.jsx)(w.Z,{type:"primary",label:"Generate",onClick:L})})]})})}var M=t(7762),y=t(9543),P={headerTitle:{marginTop:40,fontWeight:600,fontSize:24,textAlign:"center",height:50},infoTitle:{width:200,fontWeight:600,textWrap:"nowrap",paddingBottom:20},infoDetails:{fontWeight:400,width:200,paddingBottom:20},table:{borderCollapse:"collapse",fontSize:"14px",border:"0",width:"100%",marginBottom:20},content:{paddingInline:10},thead:{borderTop:"solid 1px rgb(239, 242, 245)",borderBottom:"solid 1px rgb(239, 242, 245)"},heading:{paddingInline:10,textWrap:"nowrap"}},R=function(n){var e=n.children;return(0,E.jsx)("td",{style:P.heading,children:(0,E.jsx)("strong",{children:e})})},k=function(n){var e=n.children;return(0,E.jsx)("td",{style:P.content,children:e})};function D(n){var e=n.data,t=(n.costCentresById,(0,l.useMemo)((function(){return function(n){return null===n||void 0===n?void 0:n.map((function(e){var t,i,o=[];if((null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0){var a,c,r,l,s=null!==(a=null===e||void 0===e?void 0:e.children)&&void 0!==a?a:[],d=(0,M.Z)(s);try{for(d.s();!(l=d.n()).done;){var u=l.value,h=u.OID,g=u.voucher_code,v=u.voucher_date,f=u.voucher_type,p=u.cost_centre,m=u.narration,x=u.credit_amount,w=u.debit_amount,S=w-x;o.push((0,E.jsxs)("tr",{children:[(0,E.jsx)(k,{children:f}),(0,E.jsx)(k,{children:g}),(0,E.jsx)(k,{children:v?(0,y.LM)(v,j.nH[10]):""}),(0,E.jsx)(k,{children:m}),(0,E.jsx)(k,{children:m}),(0,E.jsx)(k,{children:""}),(0,E.jsx)(k,{children:""}),(0,E.jsx)(k,{children:p}),(0,E.jsx)(k,{children:null!==w&&void 0!==w?w:0}),(0,E.jsx)(k,{children:null!==x&&void 0!==x?x:0}),(0,E.jsx)(k,{children:null!==S&&void 0!==S?S:0})]},h))}}catch(_){d.e(_)}finally{d.f()}o.push((0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{}),(0,E.jsx)("td",{style:{paddingInline:10},children:(0,E.jsx)("strong",{children:"Total: "})}),(0,E.jsx)("td",{style:{paddingInline:10,borderTop:"1px solid #000",borderBottom:"1px solid #000"},children:(0,E.jsx)("strong",{children:null!==(c=n.totalDebit)&&void 0!==c?c:0})}),(0,E.jsx)("td",{style:{paddingInline:10,borderTop:"1px solid #000",borderBottom:"1px solid #000"},children:(0,E.jsx)("strong",{children:null!==(r=n.totalCredit)&&void 0!==r?r:0})}),(0,E.jsx)("td",{})]}))}return(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{style:P.headerTitle,children:"Sub Ledger"}),(0,E.jsx)("table",{style:P.table,children:(0,E.jsxs)("tbody",{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{style:P.infoTitle,children:"Account Code:"}),(0,E.jsx)("td",{style:P.infoDetails,children:e.account_code}),(0,E.jsx)("td",{colSpan:2}),(0,E.jsx)("td",{style:P.infoTitle,children:"Account Name:"}),(0,E.jsx)("td",{style:P.infoDetails,children:e.account_name})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{style:P.infoTitle,children:"GL Book:"}),(0,E.jsx)("td",{style:P.infoDetails,children:e.book_name}),(0,E.jsx)("td",{colSpan:2}),(0,E.jsx)("td",{style:P.infoTitle,children:"Opening Balance:"}),(0,E.jsx)("td",{style:P.infoDetails,children:null!==(i=e.total_amount)&&void 0!==i?i:0})]})]})}),(0,E.jsxs)("table",{style:P.table,children:[(0,E.jsx)("thead",{style:P.thead,children:(0,E.jsxs)("tr",{style:{background:"#fafafa",height:"40px"},children:[(0,E.jsx)(R,{children:"Vr Type"}),(0,E.jsx)(R,{children:"Vr Code"}),(0,E.jsx)(R,{children:"Vr Date"}),(0,E.jsx)(R,{children:"Narration"}),(0,E.jsx)(R,{children:"Detail Narration"}),(0,E.jsx)(R,{children:"Cheque No"}),(0,E.jsx)(R,{children:"Ref_No"}),(0,E.jsx)(R,{children:"Cost Center"}),(0,E.jsx)(R,{children:"Debit Rs."}),(0,E.jsx)(R,{children:"Credit Rs"}),(0,E.jsx)(R,{children:"Balance Rs."})]})}),(0,E.jsx)("tbody",{children:o})]})]},e.OID)}))}(e)}),[e]));return(0,E.jsx)(E.Fragment,{children:e&&(0,E.jsx)("div",{id:r.Cs.SL_REPORT_PRINT_CONTENT,children:t})})}var A=t(7846),L=t(3172),F=t(9188);function z(){var n,e=(0,s.I0)(),t=A.Z.useForm(),v=(0,o.Z)(t,1)[0],f=(0,F.m8)().getList,p=(0,s.v9)((function(n){return n.configs.location})),m=(0,F.$l)().getList,x=(0,l.useState)({voucher_type:"all",fromDate:(0,y.p8)(new Date),toDate:(0,y.p8)(new Date),book_id:"all",subAccountGroup:void 0,cost_centre:void 0,post:!1}),w=(0,o.Z)(x,2),S=w[0],_=w[1],b=(0,l.useState)((0,i.Z)({},j.$I)),Z=(0,o.Z)(b,2),T=Z[0],C=Z[1],I=(0,l.useState)((0,i.Z)({},j.$I)),N=(0,o.Z)(I,2),M=N[0],P=N[1],R=(0,l.useState)((0,i.Z)({},j.$I)),k=(0,o.Z)(R,2),z=k[0],V=k[1],H=(0,l.useState)(r._b),B=(0,o.Z)(H,2),G=B[0],U=B[1],q=(0,l.useState)(!1),J=(0,o.Z)(q,2),W=J[0],K=J[1],X=(0,l.useState)([]),Y=(0,o.Z)(X,2),$=Y[0],Q=Y[1],nn=(0,F.qB)().getList,en=(0,F.lN)({account_group_id:null}).getList,tn=null===nn||void 0===nn||null===(n=nn.data)||void 0===n?void 0:n.map((function(n){return{label:"".concat(n.ST_SUB_ACCOUNT_GROUP_CODE,"-").concat(n.ST_SUB_ACCOUNT_GROUP_DESC),value:n.OID}}));(0,l.useEffect)((function(){if(null!==en&&void 0!==en&&en.data){var n,e=(null===en||void 0===en||null===(n=en.data)||void 0===n?void 0:n.length)-1;P((function(n){var e;return(0,i.Z)((0,i.Z)({},n),{},{defaultValue:null===(e=en.data)||void 0===e?void 0:e[0].OID})})),V((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},{defaultValue:null===(t=en.data)||void 0===t?void 0:t[e].OID})}))}}),[null===en||void 0===en?void 0:en.data]);var on=[{label:"Print",key:"Print",disabled:!W,onClick:function(){return(0,g.z)(r.Cs.SL_REPORT_PRINT_CONTENT)}},{label:"Export To Excel",key:"ExportToExcel",disabled:!W,onClick:function(){return(0,g.p)(r.Cs.SL_REPORT_PRINT_CONTENT)}}];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.Z,{name:"Sub Ledger Report",buttons:on}),(0,E.jsx)("div",{className:"app_page_content",children:(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(O,{form:v,initialValues:S,setInitialValues:_,handleSubAccountGroup:function(n){_((function(e){return(0,i.Z)((0,i.Z)({},S),{},{subAccountGroup:n})}))},subAccountsGroups:tn,getMainAccounts:m,level:G,setLevel:U,allBooks:f,getSubAccounts:en,mainAccount:T,handleChangeMainAccount:function(n){C((function(e){return(0,i.Z)((0,i.Z)({},e),n)}))},fromSubAccount:M,handleChangeFromAccount:function(n){P((function(e){return(0,i.Z)((0,i.Z)({},e),n)}))},toSubAccount:z,handleChangeToAccount:function(n){V((function(e){return(0,i.Z)((0,i.Z)({},e),n)}))},onGenerate:function(){v.validateFields().then((function(n){var t,i,o,a;e((0,d.S)(!0));var c={organization_id:p,from_main_account_id:null!==(t=null===(i=M.option)||void 0===i?void 0:i.value)&&void 0!==t?t:0,to_main_account_id:null!==(o=null===(a=z.option)||void 0===a?void 0:a.value)&&void 0!==o?o:0,from_date:(0,y.LM)(new Date(n.fromDate),j.nH[9]),to_date:(0,y.LM)(new Date(n.toDate),j.nH[9]),gl_book_id:n.book_id,cost_center_id:n.cost_centre,post:n.post?1:0};(0,L.XK)(c).then((function(n){var t=null===n||void 0===n?void 0:n.filter((function(n){var e;return(null===(e=n.children)||void 0===e?void 0:e.length)>0}));Q(t),K(!0),e((0,d.S)(!1))})).catch((function(n){e((0,d.S)(!1)),h.Am.error((0,u.nU)(n))}))})).catch((function(){return h.Am.error(j.QK.FormValidationMsg)}))}}),W&&(0,E.jsx)("div",{className:"px-4",children:(0,E.jsx)(D,{data:$})})]})})]})}},1306:function(n,e,t){t.d(e,{Z:function(){return y}});var i=t(4942),o=t(9439),a=t(7106),c=t(1694),r=t.n(c),l=t(7462),s=t(4925),d=t(2791),u=t(5179),h=t(1354),g=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],v=d.forwardRef((function(n,e){var t,a=n.prefixCls,c=void 0===a?"rc-switch":a,v=n.className,f=n.checked,p=n.defaultChecked,m=n.disabled,x=n.loadingIcon,w=n.checkedChildren,S=n.unCheckedChildren,_=n.onClick,b=n.onChange,Z=n.onKeyDown,T=(0,s.Z)(n,g),C=(0,u.Z)(!1,{value:f,defaultValue:p}),I=(0,o.Z)(C,2),N=I[0],j=I[1];function E(n,e){var t=N;return m||(j(t=n),null===b||void 0===b||b(t,e)),t}var O=r()(c,v,(t={},(0,i.Z)(t,"".concat(c,"-checked"),N),(0,i.Z)(t,"".concat(c,"-disabled"),m),t));return d.createElement("button",(0,l.Z)({},T,{type:"button",role:"switch","aria-checked":N,disabled:m,className:O,ref:e,onKeyDown:function(n){n.which===h.Z.LEFT?E(!1,n):n.which===h.Z.RIGHT&&E(!0,n),null===Z||void 0===Z||Z(n)},onClick:function(n){var e=E(!N,n);null===_||void 0===_||_(e,n)}}),x,d.createElement("span",{className:"".concat(c,"-inner")},d.createElement("span",{className:"".concat(c,"-inner-checked")},w),d.createElement("span",{className:"".concat(c,"-inner-unchecked")},S)))}));v.displayName="Switch";var f=v,p=t(117),m=t(1929),x=t(9125),w=t(4107),S=t(9391),_=t(7521),b=t(5564),Z=t(9922),T=function(n){var e,t,o,a,c,r=n.componentCls,l="".concat(r,"-inner");return(0,i.Z)({},r,(0,i.Z)({},"&".concat(r,"-small"),(c={minWidth:n.switchMinWidthSM,height:n.switchHeightSM,lineHeight:"".concat(n.switchHeightSM,"px")},(0,i.Z)(c,"".concat(r,"-inner"),(e={paddingInlineStart:n.switchInnerMarginMaxSM,paddingInlineEnd:n.switchInnerMarginMinSM},(0,i.Z)(e,"".concat(l,"-checked"),{marginInlineStart:"calc(-100% + ".concat(n.switchPinSizeSM+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMaxSM,"px)"),marginInlineEnd:"calc(100% - ".concat(n.switchPinSizeSM+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMaxSM,"px)")}),(0,i.Z)(e,"".concat(l,"-unchecked"),{marginTop:-n.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}),e)),(0,i.Z)(c,"".concat(r,"-handle"),{width:n.switchPinSizeSM,height:n.switchPinSizeSM}),(0,i.Z)(c,"".concat(r,"-loading-icon"),{top:(n.switchPinSizeSM-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize}),(0,i.Z)(c,"&".concat(r,"-checked"),(o={},(0,i.Z)(o,"".concat(r,"-inner"),(t={paddingInlineStart:n.switchInnerMarginMinSM,paddingInlineEnd:n.switchInnerMarginMaxSM},(0,i.Z)(t,"".concat(l,"-checked"),{marginInlineStart:0,marginInlineEnd:0}),(0,i.Z)(t,"".concat(l,"-unchecked"),{marginInlineStart:"calc(100% - ".concat(n.switchPinSizeSM+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMaxSM,"px)"),marginInlineEnd:"calc(-100% + ".concat(n.switchPinSizeSM+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMaxSM,"px)")}),t)),(0,i.Z)(o,"".concat(r,"-handle"),{insetInlineStart:"calc(100% - ".concat(n.switchPinSizeSM+n.switchPadding,"px)")}),o)),(0,i.Z)(c,"&:not(".concat(r,"-disabled):active"),(a={},(0,i.Z)(a,"&:not(".concat(r,"-checked) ").concat(l),(0,i.Z)({},"".concat(l,"-unchecked"),{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2})),(0,i.Z)(a,"&".concat(r,"-checked ").concat(l),(0,i.Z)({},"".concat(l,"-checked"),{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2})),a)),c)))},C=function(n){var e,t=n.componentCls;return(0,i.Z)({},t,(e={},(0,i.Z)(e,"".concat(t,"-loading-icon").concat(n.iconCls),{position:"relative",top:(n.switchPinSize-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"}),(0,i.Z)(e,"&".concat(t,"-checked ").concat(t,"-loading-icon"),{color:n.switchColor}),e))},I=function(n){var e,t,o=n.componentCls,a=n.motion,c="".concat(o,"-handle");return(0,i.Z)({},o,(t={},(0,i.Z)(t,c,{position:"absolute",top:n.switchPadding,insetInlineStart:n.switchPadding,width:n.switchPinSize,height:n.switchPinSize,transition:"all ".concat(n.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n.colorWhite,borderRadius:n.switchPinSize/2,boxShadow:n.switchHandleShadow,transition:"all ".concat(n.switchDuration," ease-in-out"),content:'""'}}),(0,i.Z)(t,"&".concat(o,"-checked ").concat(c),{insetInlineStart:"calc(100% - ".concat(n.switchPinSize+n.switchPadding,"px)")}),(0,i.Z)(t,"&:not(".concat(o,"-disabled):active"),a?(e={},(0,i.Z)(e,"".concat(c,"::before"),{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0}),(0,i.Z)(e,"&".concat(o,"-checked ").concat(c,"::before"),{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}),e):{}),t))},N=function(n){var e,t,o,a,c=n.componentCls,r="".concat(c,"-inner");return(0,i.Z)({},c,(a={},(0,i.Z)(a,r,(e={display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n.switchInnerMarginMax,paddingInlineEnd:n.switchInnerMarginMin,transition:"padding-inline-start ".concat(n.switchDuration," ease-in-out, padding-inline-end ").concat(n.switchDuration," ease-in-out")},(0,i.Z)(e,"".concat(r,"-checked, ").concat(r,"-unchecked"),{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:"margin-inline-start ".concat(n.switchDuration," ease-in-out, margin-inline-end ").concat(n.switchDuration," ease-in-out"),pointerEvents:"none"}),(0,i.Z)(e,"".concat(r,"-checked"),{marginInlineStart:"calc(-100% + ".concat(n.switchPinSize+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMax,"px)"),marginInlineEnd:"calc(100% - ".concat(n.switchPinSize+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMax,"px)")}),(0,i.Z)(e,"".concat(r,"-unchecked"),{marginTop:-n.switchHeight,marginInlineStart:0,marginInlineEnd:0}),e)),(0,i.Z)(a,"&".concat(c,"-checked ").concat(r),(t={paddingInlineStart:n.switchInnerMarginMin,paddingInlineEnd:n.switchInnerMarginMax},(0,i.Z)(t,"".concat(r,"-checked"),{marginInlineStart:0,marginInlineEnd:0}),(0,i.Z)(t,"".concat(r,"-unchecked"),{marginInlineStart:"calc(100% - ".concat(n.switchPinSize+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMax,"px)"),marginInlineEnd:"calc(-100% + ".concat(n.switchPinSize+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMax,"px)")}),t)),(0,i.Z)(a,"&:not(".concat(c,"-disabled):active"),(o={},(0,i.Z)(o,"&:not(".concat(c,"-checked) ").concat(r),(0,i.Z)({},"".concat(r,"-unchecked"),{marginInlineStart:2*n.switchPadding,marginInlineEnd:2*-n.switchPadding})),(0,i.Z)(o,"&".concat(c,"-checked ").concat(r),(0,i.Z)({},"".concat(r,"-checked"),{marginInlineStart:2*-n.switchPadding,marginInlineEnd:2*n.switchPadding})),o)),a))},j=function(n){var e,t=n.componentCls;return(0,i.Z)({},t,Object.assign(Object.assign(Object.assign(Object.assign({},(0,_.Wf)(n)),(0,i.Z)({position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n.switchMinWidth,height:n.switchHeight,lineHeight:"".concat(n.switchHeight,"px"),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(n.motionDurationMid),userSelect:"none"},"&:hover:not(".concat(t,"-disabled)"),{background:n.colorTextTertiary})),(0,_.Qy)(n)),(e={},(0,i.Z)(e,"&".concat(t,"-checked"),(0,i.Z)({background:n.switchColor},"&:hover:not(".concat(t,"-disabled)"),{background:n.colorPrimaryHover})),(0,i.Z)(e,"&".concat(t,"-loading, &").concat(t,"-disabled"),{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}}),(0,i.Z)(e,"&".concat(t,"-rtl"),{direction:"rtl"}),e)))},E=(0,b.Z)("Switch",(function(n){var e=n.fontSize*n.lineHeight,t=n.controlHeight/2,i=e-4,o=t-4,a=(0,Z.TS)(n,{switchMinWidth:2*i+8,switchHeight:e,switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+2+4,switchPadding:2,switchPinSize:i,switchBg:n.colorBgContainer,switchMinWidthSM:2*o+4,switchHeightSM:t,switchInnerMarginMinSM:o/2,switchInnerMarginMaxSM:o+2+4,switchPinSizeSM:o,switchHandleShadow:"0 2px 4px 0 ".concat(new S.C("#00230b").setAlpha(.2).toRgbString()),switchLoadingIconSize:.75*n.fontSizeIcon,switchLoadingIconColor:"rgba(0, 0, 0, ".concat(n.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[j(a),N(a),I(a),C(a),T(a)]})),O=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]])}return t},M=d.forwardRef((function(n,e){var t,c=n.prefixCls,l=n.size,s=n.disabled,u=n.loading,h=n.className,g=n.rootClassName,v=n.style,S=O(n,["prefixCls","size","disabled","loading","className","rootClassName","style"]),_=d.useContext(m.E_),b=_.getPrefixCls,Z=_.direction,T=_.switch,C=d.useContext(x.Z),I=(null!==s&&void 0!==s?s:C)||u,N=b("switch",c),j=d.createElement("div",{className:"".concat(N,"-handle")},u&&d.createElement(a.Z,{className:"".concat(N,"-loading-icon")})),M=E(N),y=(0,o.Z)(M,2),P=y[0],R=y[1],k=(0,w.Z)(l),D=r()(null===T||void 0===T?void 0:T.className,(t={},(0,i.Z)(t,"".concat(N,"-small"),"small"===k),(0,i.Z)(t,"".concat(N,"-loading"),u),(0,i.Z)(t,"".concat(N,"-rtl"),"rtl"===Z),t),h,g,R),A=Object.assign(Object.assign({},null===T||void 0===T?void 0:T.style),v);return P(d.createElement(p.Z,{component:"Switch"},d.createElement(f,Object.assign({},S,{prefixCls:N,className:D,style:A,disabled:I,ref:e,loadingIcon:j}))))}));M.__ANT_SWITCH=!0;var y=M}}]);
//# sourceMappingURL=2369.ae8f7be9.chunk.js.map
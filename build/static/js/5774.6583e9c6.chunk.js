"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[5774],{5774:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var i=t(9439),r=t(2791),o=t(5145),s=t(3782),c=t(7846),a=t(6106),d=t(914),l=t(7145),u=t(6765),p=t(9434),m=t(9655),h=t(5233),f=t(1067),x=t(1736),b=t(5806),v=t(7951),S=t(1483),j=t(5421),_=t(3329),A=function(e){var n=e.open,t=e.onCancel,o=e.selected,s=e.submitRecord,A=e.invalidateList,Z=(0,p.I0)(),y=c.Z.useForm(),g=(0,i.Z)(y,1)[0],k=function(){(0,h.OO)(null===o||void 0===o?void 0:o.id).then((function(e){var n;Z((0,S.S)(!1)),n=e.data,g.setFields([{name:"description",value:n.description},{name:"short_description",value:n.short_description},{name:"min_month",value:n.min_month},{name:"post",value:"1"===n.post}])})).catch((function(e){Z((0,S.S)(!1)),m.Am.error((0,j.nU)(e)),A(),t()}))};return(0,r.useEffect)((function(){n&&(g.resetFields(),o&&k())}),[n,o]),(0,_.jsx)(f.Z,{title:o?"Edit Advance Type":"Add Advance Type",width:700,open:n,onCancel:t,onOk:function(){g.validateFields().then((function(e){e.post=!0===e.post||1==e.post?"1":"0",o&&(e.id=o.id),function(e){Z((0,S.S)(!0)),s.mutateAsync(e).then((function(){Z((0,S.S)(!1)),t()})).catch((function(){return Z((0,S.S)(!1))}))}(e)})).catch((function(){return m.Am.error(u.QK.FormValidationMsg)}))},okText:"Submit",children:(0,_.jsx)(x.Z,{name:l.S.PR_DEFINITIONS_ADVANCE_TYPE_FORM,className:"p-5",form:g,initialValues:{description:"",short_description:"",min_month:"",post:!0},children:(0,_.jsxs)(a.Z,{align:"middle",justify:"space-between",children:[(0,_.jsx)(d.Z,{span:11,children:(0,_.jsx)(b.U,{label:"Description",required:!0,type:u.Ar.text,name:"description",messageLabel:"description",placeholder:"Enter description"})}),(0,_.jsx)(d.Z,{span:11,children:(0,_.jsx)(b.U,{label:"Short Description",required:!0,type:u.Ar.text,name:"short_description",messageLabel:"short description",placeholder:"Enter short description"})}),(0,_.jsx)(d.Z,{span:11,children:(0,_.jsx)(b.U,{label:"Min. Service Month",required:!0,type:u.Ar.number,name:"min_month",messageLabel:"Min. Service Month",placeholder:"Enter Min. Service Month",onlyNumbers:!0,min:0,max:12})}),(0,_.jsx)(d.Z,{span:11,children:(0,_.jsx)(v.Z,{label:"Active",name:"post"})})]})})})},Z=t(1752),y=t(2622),g=t(7349),k=t(2262),E=t(7445),C=function(){var e=(0,p.I0)(),n=(0,E.W)(),t=n.getList,c=n.deleteRecords,a=n.submitRecord,d=n.invalidateList,l=t.isError?[]:(null===t||void 0===t?void 0:t.data)||[],u=(0,r.useState)(!1),m=(0,i.Z)(u,2),h=m[0],f=m[1],x=(0,r.useState)(null),b=(0,i.Z)(x,2),v=b[0],C=b[1],I=(0,r.useState)([]),w=(0,i.Z)(I,2),M=w[0],T=w[1],D=function(){return f((function(e){return!e}))},F=function(n){e((0,S.S)(!0)),c.mutateAsync(n).then((function(){e((0,S.S)(!1)),T([]),C(null)})).catch((function(){return e((0,S.S)(!1))}))},L=[{title:"Code",dataIndex:"id",sorter:function(e,n){return(0,j.$P)(e,n,"id")}},{title:"Description",dataIndex:"description",sorter:function(e,n){return(0,j.Ew)(e,n,"description")}},{title:"Short Description",dataIndex:"short_description",sorter:function(e,n){return(0,j.Ew)(e,n,"short_description")}},{title:"Min. Service Month",dataIndex:"min_month",sorter:function(e,n){return(0,j.$P)(e,n,"min_month")}},{title:"Post",dataIndex:"post",sorter:function(e,n){return(0,j.$P)(e,n,"post")},render:function(e,n){return(0,_.jsx)(k.Z,{value:null===n||void 0===n?void 0:n.post,controlled:!0,disabled:!0})}},{title:"Action",dataIndex:"action",render:function(e,n){return(0,_.jsx)(g.Z,{menu:!0,options:[{label:"Edit",buttonType:"primary",icon:(0,_.jsx)(Z.Z,{}),onClick:function(){return function(e){C(e),D()}(n)}},{label:"Delete",buttonType:"danger",icon:(0,_.jsx)(y.Z,{}),confirmAction:!0,onClick:function(){return F([n.id.toString()])}}]})}}],R=[{label:"Add",key:"add",onClick:function(){C(null),D()}},{label:"Delete",key:"delete",buttonType:"danger",confirmAction:!0,disabled:!M.length,onClick:function(){return F(M.map((function(e){return e.toString()})))}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(A,{open:h,onCancel:D,selected:v,submitRecord:a,invalidateList:d}),(0,_.jsx)(s.Z,{name:"Advance Type",buttons:R}),(0,_.jsx)("div",{className:"app_page_content",children:(0,_.jsx)(o.Z,{rowKey:"id",columns:L,data:l,selectAble:!0,selectedRows:M,onSelect:function(e){return T(e)},loading:t.isLoading,searchKeys:["code","description"]})})]})}}}]);
//# sourceMappingURL=5774.6583e9c6.chunk.js.map
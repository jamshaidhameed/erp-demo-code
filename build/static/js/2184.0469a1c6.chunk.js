"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[2184],{3418:function(t,e,r){r.d(e,{D:function(){return R}});var n=r(1413),s=r(9439),u=r(2791),i=r(3734),o=r(5671),a=r(3144),c=r(136),l=r(7277),h=r(9054),d=r(9538),f=function(t){(0,c.Z)(r,t);var e=(0,l.Z)(r);function r(t,n){var s;return(0,o.Z)(this,r),(s=e.call(this)).client=t,s.setOptions(n),s.bindMethods(),s.updateResult(),s}return(0,a.Z)(r,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(t){var e,r=this.options;this.options=this.client.defaultMutationOptions(t),(0,i.VS)(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var t;this.hasListeners()||(null==(t=this.currentMutation)||t.removeObserver(this))}},{key:"onMutationUpdate",value:function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,n.Z)((0,n.Z)({},this.options),{},{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var t=this.currentMutation?this.currentMutation.state:(0,h.R)(),e=(0,n.Z)((0,n.Z)({},t),{},{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=e}},{key:"notify",value:function(t){var e=this;d.V.batch((function(){var r,n,s,u;if(e.mutateOptions&&e.hasListeners())if(t.onSuccess)null==(r=(n=e.mutateOptions).onSuccess)||r.call(n,e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==(s=(u=e.mutateOptions).onSettled)||s.call(u,e.currentResult.data,null,e.currentResult.variables,e.currentResult.context);else if(t.onError){var i,o,a,c;null==(i=(o=e.mutateOptions).onError)||i.call(o,e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==(a=(c=e.mutateOptions).onSettled)||a.call(c,void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context)}t.listeners&&e.listeners.forEach((function(t){(0,t.listener)(e.currentResult)}))}))}}]),r}(r(5511).l),p=r(7413),v=r(6403),y=r(9608);function R(t,e,r){var o=(0,i.lV)(t,e,r),a=(0,v.NL)({context:o.context}),c=u.useState((function(){return new f(a,o)})),l=(0,s.Z)(c,1)[0];u.useEffect((function(){l.setOptions(o)}),[l,o]);var h=(0,p.$)(u.useCallback((function(t){return l.subscribe(d.V.batchCalls(t))}),[l]),(function(){return l.getCurrentResult()}),(function(){return l.getCurrentResult()})),R=u.useCallback((function(t,e){l.mutate(t,e).catch(b)}),[l]);if(h.error&&(0,y.L)(l.options.useErrorBoundary,[h.error]))throw h.error;return(0,n.Z)((0,n.Z)({},h),{},{mutate:R,mutateAsync:h.mutate})}function b(){}},2917:function(t,e,r){r.d(e,{a:function(){return L}});var n=r(3734),s=r(1413),u=r(4925),i=r(5671),o=r(3144),a=r(136),c=r(7277),l=r(9538),h=r(1559),d=r(5511),f=r(3075),p=["refetchPage"],v=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(t,n){var s;return(0,i.Z)(this,r),(s=e.call(this)).client=t,s.options=n,s.trackedProps=new Set,s.selectError=null,s.bindMethods(),s.setOptions(n),s}return(0,o.Z)(r,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),y(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return R(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return R(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(t,e){var r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),(0,n.VS)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var u=this.hasListeners();u&&b(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(e),!u||this.currentQuery===s&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();var i=this.computeRefetchInterval();!u||this.currentQuery===s&&this.options.enabled===r.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)}},{key:"getOptimisticResult",value:function(t){var e=this.client.getQueryCache().build(this.client,t),r=this.createResult(e,t);return function(t,e,r){if(r.keepPreviousData)return!1;if(void 0!==r.placeholderData)return e.isPlaceholderData;if(!(0,n.VS)(t.getCurrentResult(),e))return!0;return!1}(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(t){var e=this,r={};return Object.keys(t).forEach((function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return e.trackedProps.add(n),t[n]}})})),r}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refetchPage,r=(0,u.Z)(t,p);return this.fetch((0,s.Z)((0,s.Z)({},r),{},{meta:{refetchPage:e}}))}},{key:"fetchOptimistic",value:function(t){var e=this,r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then((function(){return e.createResult(n,r)}))}},{key:"fetch",value:function(t){var e,r=this;return this.executeFetch((0,s.Z)((0,s.Z)({},t),{},{cancelRefetch:null==(e=t.cancelRefetch)||e})).then((function(){return r.updateResult(),r.currentResult}))}},{key:"executeFetch",value:function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return null!=t&&t.throwOnError||(e=e.catch(n.ZT)),e}},{key:"updateStaleTimeout",value:function(){var t=this;if(this.clearStaleTimeout(),!n.sk&&!this.currentResult.isStale&&(0,n.PN)(this.options.staleTime)){var e=(0,n.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){t.currentResult.isStale||t.updateResult()}),e)}}},{key:"computeRefetchInterval",value:function(){var t;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t}},{key:"updateRefetchInterval",value:function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!n.sk&&!1!==this.options.enabled&&(0,n.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(e.options.refetchIntervalInBackground||h.j.isFocused())&&e.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(t,e){var r,s=this.currentQuery,u=this.options,i=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,c=t!==s,l=c?t.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,d=t.state,p=d.dataUpdatedAt,v=d.error,R=d.errorUpdatedAt,k=d.fetchStatus,S=d.status,O=!1,g=!1;if(e._optimisticResults){var C=this.hasListeners(),E=!C&&y(t,e),Q=C&&b(t,s,e,u);(E||Q)&&(k=(0,f.Kw)(t.options.networkMode)?"fetching":"paused",p||(S="loading")),"isRestoring"===e._optimisticResults&&(k="idle")}if(e.keepPreviousData&&!d.dataUpdatedAt&&null!=h&&h.isSuccess&&"error"!==S)r=h.data,p=h.dataUpdatedAt,S=h.status,O=!0;else if(e.select&&"undefined"!==typeof d.data)if(i&&d.data===(null==o?void 0:o.data)&&e.select===this.selectFn)r=this.selectResult;else try{this.selectFn=e.select,r=e.select(d.data),r=(0,n.oE)(null==i?void 0:i.data,r,e),this.selectResult=r,this.selectError=null}catch(T){0,this.selectError=T}else r=d.data;if("undefined"!==typeof e.placeholderData&&"undefined"===typeof r&&"loading"===S){var I;if(null!=i&&i.isPlaceholderData&&e.placeholderData===(null==a?void 0:a.placeholderData))I=i.data;else if(I="function"===typeof e.placeholderData?e.placeholderData():e.placeholderData,e.select&&"undefined"!==typeof I)try{I=e.select(I),this.selectError=null}catch(T){0,this.selectError=T}"undefined"!==typeof I&&(S="success",r=(0,n.oE)(null==i?void 0:i.data,I,e),g=!0)}this.selectError&&(v=this.selectError,r=this.selectResult,R=Date.now(),S="error");var U="fetching"===k,Z="loading"===S,M="error"===S;return{status:S,fetchStatus:k,isLoading:Z,isSuccess:"success"===S,isError:M,isInitialLoading:Z&&U,data:r,dataUpdatedAt:p,error:v,errorUpdatedAt:R,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:U,isRefetching:U&&!Z,isLoadingError:M&&0===d.dataUpdatedAt,isPaused:"paused"===k,isPlaceholderData:g,isPreviousData:O,isRefetchError:M&&0!==d.dataUpdatedAt,isStale:m(t,e),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(t){var e=this,r=this.currentResult,u=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,n.VS)(u,r)){this.currentResult=u;var i={cache:!0};!1!==(null==t?void 0:t.listeners)&&function(){if(!r)return!0;var t=e.options.notifyOnChangeProps,n="function"===typeof t?t():t;if("all"===n||!n&&!e.trackedProps.size)return!0;var s=new Set(null!=n?n:e.trackedProps);return e.options.useErrorBoundary&&s.add("error"),Object.keys(e.currentResult).some((function(t){var n=t;return e.currentResult[n]!==r[n]&&s.has(n)}))}()&&(i.listeners=!0),this.notify((0,s.Z)((0,s.Z)({},i),t))}}},{key:"updateQuery",value:function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}}},{key:"onQueryUpdate",value:function(t){var e={};"success"===t.type?e.onSuccess=!t.manual:"error"!==t.type||(0,f.DV)(t.error)||(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(t){var e=this;l.V.batch((function(){var r,n,s,u;if(t.onSuccess)null==(r=(n=e.options).onSuccess)||r.call(n,e.currentResult.data),null==(s=(u=e.options).onSettled)||s.call(u,e.currentResult.data,null);else if(t.onError){var i,o,a,c;null==(i=(o=e.options).onError)||i.call(o,e.currentResult.error),null==(a=(c=e.options).onSettled)||a.call(c,void 0,e.currentResult.error)}t.listeners&&e.listeners.forEach((function(t){(0,t.listener)(e.currentResult)})),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})}))}}]),r}(d.l);function y(t,e){return function(t,e){return!1!==e.enabled&&!t.state.dataUpdatedAt&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||t.state.dataUpdatedAt>0&&R(t,e,e.refetchOnMount)}function R(t,e,r){if(!1!==e.enabled){var n="function"===typeof r?r(t):r;return"always"===n||!1!==n&&m(t,e)}return!1}function b(t,e,r,n){return!1!==r.enabled&&(t!==e||!1===n.enabled)&&(!r.suspense||"error"!==t.state.status)&&m(t,r)}function m(t,e){return t.isStaleByTime(e.staleTime)}var k=r(9439),S=r(2791),O=r(7413);function g(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var C=S.createContext(g()),E=function(){return S.useContext(C)},Q=r(6403),I=S.createContext(!1),U=function(){return S.useContext(I)},Z=(I.Provider,r(9608)),M=function(t,e){(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},T=function(t){S.useEffect((function(){t.clearReset()}),[t])},w=function(t){var e=t.result,r=t.errorResetBoundary,n=t.useErrorBoundary,s=t.query;return e.isError&&!r.isReset()&&!e.isFetching&&(0,Z.L)(n,[e.error,s])},x=function(t){t.suspense&&"number"!==typeof t.staleTime&&(t.staleTime=1e3)},F=function(t,e,r){return(null==t?void 0:t.suspense)&&function(t,e){return t.isLoading&&t.isFetching&&!e}(e,r)},P=function(t,e,r){return e.fetchOptimistic(t).then((function(e){var r=e.data;null==t.onSuccess||t.onSuccess(r),null==t.onSettled||t.onSettled(r,null)})).catch((function(e){r.clearReset(),null==t.onError||t.onError(e),null==t.onSettled||t.onSettled(void 0,e)}))};function L(t,e,r){return function(t,e){var r=(0,Q.NL)({context:t.context}),n=U(),s=E(),u=r.defaultQueryOptions(t);u._optimisticResults=n?"isRestoring":"optimistic",u.onError&&(u.onError=l.V.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=l.V.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=l.V.batchCalls(u.onSettled)),x(u),M(u,s),T(s);var i=S.useState((function(){return new e(r,u)})),o=(0,k.Z)(i,1)[0],a=o.getOptimisticResult(u);if((0,O.$)(S.useCallback((function(t){var e=n?function(){}:o.subscribe(l.V.batchCalls(t));return o.updateResult(),e}),[o,n]),(function(){return o.getCurrentResult()}),(function(){return o.getCurrentResult()})),S.useEffect((function(){o.setOptions(u,{listeners:!1})}),[u,o]),F(u,a,n))throw P(u,o,s);if(w({result:a,errorResetBoundary:s,useErrorBoundary:u.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return u.notifyOnChangeProps?a:o.trackResult(a)}((0,n._v)(t,e,r),v)}},7413:function(t,e,r){r.d(e,{$:function(){return n}});var n=r(7248).useSyncExternalStore},9608:function(t,e,r){r.d(e,{L:function(){return s}});var n=r(3433);function s(t,e){return"function"===typeof t?t.apply(void 0,(0,n.Z)(e)):!!t}}}]);
//# sourceMappingURL=2184.0469a1c6.chunk.js.map
"use strict";(self.webpackChunkerp_web=self.webpackChunkerp_web||[]).push([[8655],{1067:function(e,n,t){var i=t(1413),r=t(7808),o=t(3329);n.Z=function(e){return(0,o.jsx)(r.Z,(0,i.Z)((0,i.Z)({centered:!0},e),{},{children:e.children}))}},35:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(4352),r=t(938),o=t(3329);function c(e){var n=e.collapseAble,t=void 0!==n&&n,c=e.title,a=e.children,d=e.className,s=void 0===d?"":d,l=i.Z.Panel;return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)(i.Z,{className:"form-card-collapsible ".concat(s),defaultActiveKey:[c],expandIcon:function(e){var n=e.isActive;return(0,o.jsx)(r.Z,{rotate:n?90:0})},ghost:!0,children:(0,o.jsx)(l,{header:c,children:a},c)}):(0,o.jsx)("div",{className:"form_card ".concat(s),children:(0,o.jsx)("div",{className:"card_body",children:a})})})}},6743:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(3388),r=t(1014),o=t(5033),c=t(711),a=t(6765),d=t(5421),s=t(3329),l={primary:"custom_menu_primary",secondary:"custom_menu_secondary",danger:"custom_menu_danger"};function u(e){var n=e.selectorDirection,t=void 0===n?"horizontal":n,u=e.menuList,f=void 0===u?[]:u,m=(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"list-menu-dropdown-options",children:f.map((function(e,n){return!e.hidden&&(0,s.jsxs)(i.Z.Item,{onClick:function(){return e.confirmAction?(0,d.iG)(e.confirmTitle||"Deleting",e.confirmMsg||a.QK.DeleteConfirmMsg,e.onClick):e.onClick()},className:"link-text-color mb-2 ".concat(l[e.buttonType]||l.primary),disabled:!!e.disabled,children:[(0,s.jsx)("span",{className:"pr-2",children:e.icon}),(0,s.jsx)("span",{className:"px-2",children:e.label})]},n)}))})});return(0,s.jsx)(r.Z,{overlay:m,trigger:["click"],children:(0,s.jsx)("a",{onClick:function(e){return e.preventDefault()},children:"horizontal"==t?(0,s.jsx)(o.Z,{}):(0,s.jsx)(c.Z,{})})})}},7001:function(e,n,t){var i=t(3433),r=t(2791),o=t(7309),c=t(5421),a=t(9434),d=t(6765),s=t(3329),l={primary:"custom_button_primary",secondary:"custom_button_secondary",danger:"custom_button_danger"};n.Z=function(e){var n=e.label,t=e.onClick,u=e.icon,f=void 0===u?"":u,m=e.type,h=void 0===m?"primary":m,p=e.buttonType,v=void 0===p?"primary":p,x=e.htmlType,b=void 0===x?"button":x,j=e.loading,Z=void 0!==j&&j,g=e.className,y=void 0===g?"":g,C=e.disabled,k=void 0!==C&&C,w=e.confirmAction,N=void 0!==w&&w,L=e.confirmTitle,_=void 0===L?"Deleting":L,S=e.confirmMsg,A=void 0===S?d.QK.DeleteConfirmMsg:S,D=e.shortKey,O=void 0===D?"":D,I=e.style,T=void 0===I?{}:I,E=O&&d.T7[O]?O:"",R=(0,a.v9)((function(e){return e.showLoader})),F=R.pageLoading,P=R.appLoading,H=(0,r.useRef)(F);H.current=F;var B=(0,r.useRef)(P);B.current=P;var K=(0,r.useRef)(Z);K.current=Z;var M=(0,r.useRef)(k);M.current=k;var U=(0,r.useRef)(),q=function(e){if(E===e.key){e.preventDefault();var n=document.getElementsByClassName("ant-modal"),t=0===n.length||(0,i.Z)(n).every((function(e){return 0===e.offsetWidth}));H.current||B.current||K.current||M.current||!t||U.current.click()}};return(0,r.useEffect)((function(){if(E)return window.addEventListener("keydown",q),function(){return window.removeEventListener("keydown",q)}}),[]),(0,s.jsx)(o.ZP,{ref:U,className:"custom_button ".concat(y," ").concat(l[v]),type:h,style:T,htmlType:b,loading:Z,onClick:function(){return N?(0,c.iG)(_,A,t):t()},disabled:Z||k,children:Z?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("div",{className:"custom_button_content",children:[f&&f,(0,s.jsx)("span",{children:E?"".concat(n," (").concat(E,")"):n})]})})}},3782:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(1413),r=t(586),o=t(9434),c=t(9372),a=t(1087),d=t(7001),s=t(6743),l=t(3329),u=r.Z.Header;function f(e){var n=e.name,t=e.buttons,r=e.redirectURL,f=void 0===r?"":r,m=e.redirectLabel,h=void 0===m?"":m,p=e.responsiveClass,v=void 0===p?"":p,x=(0,o.v9)((function(e){return e.layout})),b=x.showTopBanner,j=x.topBannerHeight,Z=x.headerHeight,g=x.collapsed,y=x.hidden,C=x.mobileView,k=x.sidebarWidth,w=x.subHeaderHeight,N=C?"100%":"calc(100% - ".concat(y||C?0:g?80:k,"px)"),L=b?Z+j:Z;return(0,l.jsx)(u,{style:(0,i.Z)({position:"fixed",zIndex:1,width:N,top:L,height:w},C?{left:0}:{}),className:"site-layout-sub-header",children:(0,l.jsx)("div",{className:"sub-header-container",children:(0,l.jsxs)("div",{className:"px-5 sub-header-wrapper",children:[(0,l.jsxs)("div",{className:"sub-header-title",children:[f&&(0,l.jsx)("div",{className:"redirect-btn",children:(0,l.jsxs)(a.rU,{to:f,className:"d-flex align-items-center gap-2",children:[(0,l.jsx)(c.Z,{}),(0,l.jsx)("span",{children:h})]})}),(0,l.jsx)("h2",{children:n})]}),(null===t||void 0===t?void 0:t.length)>0&&(0,l.jsxs)("div",{className:"sub-header-menu ".concat(v),children:[(0,l.jsx)("div",{className:"btn-desktop-view",children:t.map((function(e){return(0,l.jsx)(d.Z,(0,i.Z)({},e),e.label)}))}),(0,l.jsx)("span",{className:"btn-mobile-view",children:(0,l.jsx)(s.Z,{selectorDirection:"vertical",menuList:t})})]})]})})})}},4892:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(9439),r=t(2791),o=t(5145),c=t(3782),a=t(7846),d=t(6106),s=t(914),l=t(7145),u=t(6765),f=t(9434),m=t(9655),h=t(6833),p=t(1067),v=t(1736),x=t(5806),b=t(1367),j=t(7951),Z=t(1483),g=t(5421),y=t(3329),C=[{label:"Debit",value:"D"},{label:"Credit",value:"C"}],k=function(e){var n=e.open,t=e.onCancel,o=e.selected,c=e.submitRecord,k=e.invalidateList,w=(0,f.I0)(),N=a.Z.useForm(),L=(0,i.Z)(N,1)[0],_={code:"",description:"",headOffice:void 0,branchCode:void 0,deptCode:void 0,post:!0},S=function(){(0,h.I2)(null===o||void 0===o?void 0:o.OID).then((function(e){var n;w((0,Z.S)(!1)),n=e.data,L.setFields([{name:"code",value:n.code},{name:"description",value:n.description},{name:"headOffice",value:n.headOffice},{name:"branchCode",value:n.branchCode},{name:"deptCode",value:n.deptCode},{name:"post",value:n.post}])})).catch((function(e){w((0,Z.S)(!1)),m.Am.error((0,g.nU)(e)),k(),t()}))};return(0,r.useEffect)((function(){n&&(L.resetFields(),o&&S())}),[n,o]),(0,y.jsx)(p.Z,{title:o?"Edit Location":"Add Location",width:700,open:n,onCancel:t,onOk:function(){L.validateFields().then((function(e){o&&(e.id=o.OID),function(e){w((0,Z.S)(!0)),c.mutateAsync(e).then((function(){w((0,Z.S)(!1)),t()})).catch((function(){return w((0,Z.S)(!1))}))}(e)})).catch((function(){return m.Am.error(u.QK.FormValidationMsg)}))},okText:"Submit",children:(0,y.jsx)(v.Z,{name:l.S.PR_HR_LOCATION_FORM,className:"p-5",form:L,initialValues:_,children:(0,y.jsxs)(d.Z,{align:"middle",justify:"space-between",children:[(0,y.jsx)(s.Z,{lg:11,children:(0,y.jsx)(x.U,{label:"Code",required:!0,type:u.Ar.text,name:"code",messageLabel:"code",placeholder:"Enter code",onlyNumbers:!0})}),(0,y.jsx)(s.Z,{span:11,children:(0,y.jsx)(x.U,{label:"Location Description",required:!0,type:u.Ar.text,name:"description",messageLabel:"description",placeholder:"Enter description"})}),(0,y.jsx)(s.Z,{span:11,children:(0,y.jsx)(b.Z,{label:"Head Office / Branch",name:"headOffice",messageLabel:"head office",options:C,placeholder:"Select",required:!0})}),(0,y.jsx)(s.Z,{span:11,children:(0,y.jsx)(b.Z,{label:"Branch Code",name:"branchCode",messageLabel:"branch code",options:C,placeholder:"Select",required:!0})}),(0,y.jsx)(s.Z,{span:11,children:(0,y.jsx)(b.Z,{label:"Dept Code",name:"deptCode",messageLabel:"dept code",options:C,placeholder:"Select",required:!0})}),(0,y.jsx)(s.Z,{span:11,children:(0,y.jsx)(j.Z,{label:"Active",name:"post"})})]})})})},w=t(1752),N=t(2622),L=t(7349),_=t(4992),S=t(2262),A=function(){var e=(0,f.I0)(),n=(0,_.Uf)(),t=n.getList,a=n.deleteRecords,d=n.submitRecord,s=n.invalidateList,l=(0,r.useState)(!1),u=(0,i.Z)(l,2),m=u[0],h=u[1],p=(0,r.useState)(null),v=(0,i.Z)(p,2),x=v[0],b=v[1],j=(0,r.useState)([]),C=(0,i.Z)(j,2),A=C[0],D=C[1],O=function(){return h((function(e){return!e}))},I=function(n){e((0,Z.S)(!0)),a.mutateAsync(n).then((function(){e((0,Z.S)(!1)),D([]),b(null)})).catch((function(){return e((0,Z.S)(!1))}))},T=[{title:"Code",dataIndex:"id",sorter:function(e,n){return(0,g.$P)(e,n,"id")}},{title:"Description",dataIndex:"description",sorter:function(e,n){return(0,g.Ew)(e,n,"description")}},{title:"Head Office / Branch",dataIndex:"headOffice",sorter:function(e,n){return(0,g.Ew)(e,n,"headOffice")}},{title:"Branch",dataIndex:"branch",sorter:function(e,n){return(0,g.Ew)(e,n,"branch")}},{title:"Dept Code",dataIndex:"deptCode",sorter:function(e,n){return(0,g.Ew)(e,n,"deptCode")}},{title:"Post",dataIndex:"POST",sorter:function(e,n){return(0,g.$P)(e,n,"POST")},render:function(e,n){return(0,y.jsx)(S.Z,{value:null===n||void 0===n?void 0:n.POST,controlled:!0,disabled:!0})}},{title:"Action",dataIndex:"action",render:function(e,n){return(0,y.jsx)(L.Z,{menu:!0,options:[{label:"Edit",buttonType:"primary",icon:(0,y.jsx)(w.Z,{}),onClick:function(){return function(e){b(e),O()}(n)}},{label:"Delete",buttonType:"danger",icon:(0,y.jsx)(N.Z,{}),confirmAction:!0,onClick:function(){return I([n.OID.toString()])}}]})}}],E=[{label:"Add",key:"add",onClick:function(){b(null),O()}},{label:"Delete",key:"delete",buttonType:"danger",confirmAction:!0,disabled:!A.length,onClick:function(){return I(A.map((function(e){return e.toString()})))}}],R=t.isError?[]:(null===t||void 0===t?void 0:t.data)||[];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k,{open:m,onCancel:O,selected:x,submitRecord:d,invalidateList:s}),(0,y.jsx)(c.Z,{name:"Offices / Locations",buttons:E}),(0,y.jsx)("div",{className:"app_page_content",children:(0,y.jsx)(o.Z,{columns:T,data:R,selectAble:!0,selectedRows:A,onSelect:function(e){return D(e)},loading:t.isLoading,searchKeys:[]})})]})}},914:function(e,n,t){var i=t(9752);n.Z=i.Z},6106:function(e,n,t){var i=t(7545);n.Z=i.Z}}]);
//# sourceMappingURL=8655.5d89a6c3.chunk.js.map